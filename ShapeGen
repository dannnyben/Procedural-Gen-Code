public class ShapeGenerator 
{
    ShapeSettings settings;
    noiseFilter[] noiseFilters;

    public ShapeGenerator(ShapeSettings settings)
    {
        this.settings = settings;
        noiseFilters = new noiseFilter[settings.noiseLayer.Length];

        for (int i = 0; i < noiseFilters.Length; i++)
        {
            noiseFilters[i] = new noiseFilter(settings.noiseLayer[i].noiseSettings);
        }
    }

    public Vector3 CalculatPointOnPlanet(Vector3 pointOnUnitSphere)
    {
        float elevation = 0;
        for(int i = 0; i < noiseFilters.Length; i++)
        {
            if (settings.noiseLayer[i].enabled)
            {
                elevation += noiseFilters[i].Evaluate(pointOnUnitSphere);
            }
        }
        return pointOnUnitSphere * settings.planetRadius * (1 + elevation);

    }
}
